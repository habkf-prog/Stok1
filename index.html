<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ù„ÙˆØ­Ø© ØªØ³ÙŠÙŠØ± Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</title>

<style>
:root{
  --bg:#0b0f17; --card:#ffffff10; --line:#ffffff20; --text:#e9eef7; --muted:#b7bfd0;
  --accent:#7c5cff; --ok:#22c55e; --warn:#f59e0b; --err:#ef4444; --radius:16px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  background:var(--bg);
  color:var(--text);
  padding:18px;
}
.container{max-width:1100px;margin:auto}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:16px;
}
h1{margin:0 0 8px;font-size:20px}
.muted{color:var(--muted);font-size:13px}

.grid{
  display:grid;
  grid-template-columns: 1.2fr 1.2fr .8fr .8fr .8fr;
  gap:10px;
  margin-top:14px;
}
@media (max-width: 900px){
  .grid{grid-template-columns:1fr 1fr}
}
label{display:block;font-weight:800;margin:10px 0 6px}
input, select{
  width:100%;
  padding:11px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#00000040;
  color:var(--text);
}
.row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.btn{
  padding:11px 14px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#00000040;
  color:var(--text);
  font-weight:900;
  cursor:pointer;
}
.btn.primary{
  border-color: var(--accent);
  background: linear-gradient(135deg, var(--accent), #4f46e5);
}

.hidden{display:none}

/* ØªÙ†Ø¨ÙŠÙ‡ Ø£Ø­Ù…Ø± Ù„Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ© */
tr.expired-row{background:rgba(239,68,68,.12)}
tr.expired-row td:first-child{box-shadow:inset 4px 0 0 rgba(239,68,68,.75)}

table{width:100%;border-collapse:collapse;margin-top:14px}
th,td{padding:10px;border-bottom:1px solid var(--line);white-space:nowrap}
th{color:var(--muted)}
.badge{padding:4px 10px;border-radius:999px;font-size:12px;font-weight:800}
.badge.ok{color:#22c55e}
.badge.warn{color:#f59e0b}
.badge.err{color:#ef4444}
</style>
</head>

<body>
<div class="container">
  <div class="card">
    <h1>ğŸ§¾ Ù„ÙˆØ­Ø© ØªØ³ÙŠÙŠØ± Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</h1>

    <div class="grid">
      <div>
        <label>Ø§Ù„Ø§Ø³Ù…</label>
        <input id="name">
      </div>
      <div>
        <label>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„</label>
        <input id="email">
      </div>
      <div>
        <label>Ø§Ù„Ø®Ø·Ø©</label>
        <select id="plan">
          <option value="3">3 Ø£Ø´Ù‡Ø±</option>
          <option value="6">6 Ø£Ø´Ù‡Ø±</option>
          <option value="12">12 Ø´Ù‡Ø±</option>
          <option value="custom">ÙŠØ¯ÙˆÙŠ</option>
        </select>
      </div>
      <div id="customBox" class="hidden">
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ù‡Ø± (ÙŠØ¯ÙˆÙŠ)</label>
        <input id="customMonths" type="number" min="1" placeholder="Ù…Ø«Ø§Ù„: 2">
      </div>
      <div>
        <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</label>
        <input id="start" type="date">
      </div>
    </div>

    <div class="row">
      <button class="btn primary" id="addBtn">â• Ø¥Ø¶Ø§ÙØ©</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>Ø§Ù„Ø§Ø³Ù…</th>
          <th>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„</th>
          <th>Ø§Ù„Ù…Ø¯Ø©</th>
          <th>Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</th>
          <th>Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>
          <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
  </div>
</div>

<script>
const $ = id => document.getElementById(id);
let data = [];

$("plan").onchange = () => {
  $("customBox").classList.toggle("hidden", $("plan").value !== "custom");
};

function addMonths(date, m){
  const d = new Date(date);
  d.setMonth(d.getMonth() + m);
  return d.toISOString().slice(0,10);
}

$("addBtn").onclick = () => {
  const name = $("name").value.trim();
  const email = $("email").value.trim();
  const start = $("start").value;
  if(!name || !email || !start) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„");

  let months;
  if($("plan").value === "custom"){
    months = Number($("customMonths").value);
    if(!months || months < 1) return alert("Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ù‡Ø±");
  }else{
    months = Number($("plan").value);
  }

  const end = addMonths(start, months);
  data.push({name,email,months,start,end});
  render();
};

function render(){
  const tb = $("tbody");
  tb.innerHTML = "";
  const today = new Date();

  data.forEach(r=>{
    const endDate = new Date(r.end);
    const tr = document.createElement("tr");
    let status = "ÙØ¹Ù‘Ø§Ù„", cls="ok";
    if(endDate < today){ status="Ù…Ù†ØªÙ‡ÙŠ"; cls="err"; tr.classList.add("expired-row"); }
    tr.innerHTML = `
      <td>${r.name}</td>
      <td>${r.email}</td>
      <td>${r.months} Ø´Ù‡Ø±</td>
      <td>${r.start}</td>
      <td>${r.end}</td>
      <td><span class="badge ${cls}">${status}</span></td>
    `;
    tb.appendChild(tr);
  });
}
</script>
</body>
</html>
